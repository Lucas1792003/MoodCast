{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/waiya/Desktop/MoodCast/MoodCast/src/app/api/geocode/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\nimport type { GeocodeResult } from \"../../../lib/weather-types\"\r\n\r\n\r\nexport async function GET(req: Request) {\r\n  const { searchParams } = new URL(req.url)\r\n  const q = searchParams.get(\"q\")?.trim()\r\n\r\n  if (!q) {\r\n    return NextResponse.json({ error: \"Missing q\" }, { status: 400 })\r\n  }\r\n\r\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(\r\n    q\r\n  )}&count=1&language=en&format=json`\r\n\r\n  const res = await fetch(url, { next: { revalidate: 300 } })\r\n  if (!res.ok) {\r\n    return NextResponse.json({ error: \"Geocoding failed\" }, { status: 502 })\r\n  }\r\n\r\n  const data = await res.json()\r\n  const r = data?.results?.[0]\r\n  if (!r) {\r\n    return NextResponse.json({ error: \"No results\" }, { status: 404 })\r\n  }\r\n\r\n  const result: GeocodeResult = {\r\n    name: r.name,\r\n    country: r.country,\r\n    latitude: r.latitude,\r\n    longitude: r.longitude,\r\n  }\r\n\r\n  return NextResponse.json(result)\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAIO,eAAe,IAAI,GAAY;IACpC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IACxC,MAAM,IAAI,aAAa,GAAG,CAAC,MAAM;IAEjC,IAAI,CAAC,GAAG;QACN,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAY,GAAG;YAAE,QAAQ;QAAI;IACjE;IAEA,MAAM,MAAM,CAAC,oDAAoD,EAAE,mBACjE,GACA,gCAAgC,CAAC;IAEnC,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,MAAM;YAAE,YAAY;QAAI;IAAE;IACzD,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACxE;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,IAAI,MAAM,SAAS,CAAC,EAAE;IAC5B,IAAI,CAAC,GAAG;QACN,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAa,GAAG;YAAE,QAAQ;QAAI;IAClE;IAEA,MAAM,SAAwB;QAC5B,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,OAAO;QAClB,UAAU,EAAE,QAAQ;QACpB,WAAW,EAAE,SAAS;IACxB;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B"}}]
}